'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _util = require('./util');

function resolveExposedProperty(key, vm) {

    if (key in (vm.$exposed || {})) {
        return vm.$exposed[key];
    }

    if (vm.$options.parent) {
        return resolveExposedProperty(key, vm.$options.parent);
    }

    throw new Error('Dependency `' + key + '` couldn\'t be resolved');
}

function inject(keys) {
    return (0, _util.normalizeMap)(keys).reduce(function (resolvedProperties, _ref) {
        var key = _ref.key,
            property = _ref.property;

        resolvedProperties[key] = function () {
            return resolveExposedProperty(property, this);
        };
        return resolvedProperties;
    }, {});
}

exports.default = inject;