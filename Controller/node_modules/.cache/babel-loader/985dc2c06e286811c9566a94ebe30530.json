{"ast":null,"code":"import _regeneratorRuntime from \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/src/App.js\";\nimport React, { Component } from 'react';\nimport socketIOClient from \"socket.io-client\";\nimport './App.css';\nimport Drone from './Drone';\nimport buttonsJson from './buttons.js';\nvar endpoint = \"http://localhost:3001\";\nvar socket = socketIOClient(endpoint);\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.LeftR =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return socket.emit('leftR', _this.state.leftRotate);\n\n            case 2:\n              _context.next = 4;\n              return socket.on('leftR', function (leftR) {\n                leftR += 90;\n\n                _this.setState({\n                  leftRotate: leftR\n                });\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.forrward =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return socket.emit('forrward', _this.state.forrward);\n\n            case 2:\n              _context2.next = 4;\n              return socket.on('forrward', function (forrward) {\n                forrward += 1;\n\n                _this.setState({\n                  forrward: forrward\n                });\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    _this.up =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return socket.emit('up', _this.state.up);\n\n            case 2:\n              _context3.next = 4;\n              return socket.on('up', function (up) {\n                up = 20;\n\n                _this.setState({\n                  up: up\n                });\n              });\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n    _this.moveLeft =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return socket.emit('mLeft', _this.state.mLeft);\n\n            case 2:\n              _context4.next = 4;\n              return socket.on('mLeft', function (mLeft) {\n                mLeft += 20;\n\n                _this.setState({\n                  mLeft: mLeft\n                });\n              });\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    _this.buttons = function () {\n      return buttonsJson.map(function (res, index) {\n        return React.createElement(\"button\", {\n          key: index,\n          className: res.class,\n          onClick: _this.state.controllerCommands[index],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: res.sclass,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, res.stitle), res.title);\n      });\n    };\n\n    _this.state = {\n      response: false,\n      leftRotate: 90,\n      forrward: 2,\n      mLeft: 20,\n      up: 20,\n      controllerCommands: [_this.LeftR, _this.forrward, null, _this.moveLeft, _this.up]\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      socket.on(\"data\", function (data) {\n        _this2.setState({\n          response: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var response = this.state.response;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, response ? \"CONNECTED\" : \"DISCONNECTED\"), React.createElement(\"div\", {\n        className: \"commandGrid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.buttons()));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/ilian.ivanov/Desktop/drone-simulator-git/Dron-Simulator/Controller/src/App.js"],"names":["React","Component","socketIOClient","Drone","buttonsJson","endpoint","socket","App","LeftR","emit","state","leftRotate","on","leftR","setState","forrward","up","moveLeft","mLeft","buttons","map","res","index","class","controllerCommands","sclass","stitle","title","response","data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport socketIOClient from \"socket.io-client\";\nimport './App.css';\nimport Drone from './Drone'\nimport buttonsJson from './buttons.js'\n\nconst endpoint = \"http://localhost:3001\";\nconst socket = socketIOClient(endpoint);\n\nclass App extends Component {\n  constructor(){\n    super()\n    this.state = {\n      response: false,\n      leftRotate:90,\n      forrward:2,\n      mLeft: 20,\n      up:20,\n      controllerCommands:[\n        this.LeftR,\n        this.forrward,\n        null,\n        this.moveLeft,\n        this.up\n      ]\n    }\n  }\n  componentDidMount(){\n    socket.on(\"data\", data => {\n    this.setState({\n       response: data\n      })\n    });\n  }\n\n  LeftR = async () => {\n    await socket.emit('leftR', this.state.leftRotate);\n    await socket.on('leftR', leftR => {\n      leftR += 90 \n      this.setState({\n        leftRotate: leftR\n      })\n    })\n  }\n\n  forrward = async () => {\n    await socket.emit('forrward', this.state.forrward);\n    await socket.on('forrward', forrward => {\n      forrward += 1\n      this.setState({\n        forrward: forrward\n      })\n    })\n  }\n\n  up = async () => {\n    await socket.emit('up', this.state.up);\n    await socket.on('up', up => {\n      up = 20\n      this.setState({\n        up: up\n      })\n    })\n  }\n\n  moveLeft = async () => {\n    await socket.emit('mLeft', this.state.mLeft);\n    await socket.on('mLeft', mLeft => {\n      mLeft += 20\n      this.setState({\n        mLeft: mLeft\n      })\n    })\n  }\n\n\n        \n  buttons = () => {\n    return buttonsJson.map((res, index) => {\n      return <button key={index} className={res.class} onClick={this.state.controllerCommands[index]}><span className={res.sclass}>{res.stitle}</span>{res.title}</button>\n    })\n  }\n  \n  render() {\n    const { response } = this.state;\n    return (\n      <div className=\"App\">\n        <h1>{response ? \"CONNECTED\" : \"DISCONNECTED\"}</h1>\n         <div className=\"commandGrid\">{this.buttons()}</div>\n        {/* <Drone data={this.state.response} leftRotate={this.state.leftRotate} up={this.state.up} forrward={this.state.forrward}/> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}